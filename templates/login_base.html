{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}{% endblock %}</title>
  <link rel="stylesheet" href="{% static 'src/output.css' %}">
  <script src="https://cdn.jsdelivr.net/npm/htmx.org@2.0.7/dist/htmx.min.js"></script>
</head>
<body class="bg-gray-100">

<!-- Fixed Sidebar -->
<aside class="w-64 h-screen fixed top-0 left-0 bg-gray-900 text-white flex flex-col">
  <div class="px-6 py-4 border-b border-gray-800">
    <a href="{% url 'dashboard:dashboard' %}" class="flex items-center space-x-3">
      <img src="https://flowbite.com/docs/images/logo.svg" class="h-8" alt="FusionHub Logo" />
      <span class="text-2xl font-semibold">FusionHub</span>
    </a>
  </div>

  <nav class="flex-1 px-4 py-6 space-y-2 overflow-y-auto">
    <a href="{% url 'dashboard:dashboard' %}" 
       class="block px-4 py-2 rounded-lg {% if request.resolver_match.url_name == 'dashboard' %}bg-gray-800{% else %}hover:bg-gray-800{% endif %}">
       📊 Dashboard
    </a>
    <a href="{% url 'products:products' %}" 
       class="block px-4 py-2 rounded-lg {% if request.resolver_match.namespace == 'products' %}bg-gray-800{% else %}hover:bg-gray-800{% endif %}">
       🛍 My Products
    </a>
    <a href="{% url 'competitors:competitors' %}" 
       class="block px-4 py-2 rounded-lg {% if request.resolver_match.namespace == 'competitors' %}bg-gray-800{% else %}hover:bg-gray-800{% endif %}">
       📦 Competitors
    </a>
    <a href="#" class="block px-4 py-2 rounded-lg hover:bg-gray-800">⚡ Price Alerts</a>
    <a href="#" class="block px-4 py-2 rounded-lg hover:bg-gray-800">📑 Reports</a>
    <a href="#" class="block px-4 py-2 rounded-lg hover:bg-gray-800">👥 Team</a>
    <a href="#" class="block px-4 py-2 rounded-lg hover:bg-gray-800">⚙ Settings</a>
  </nav>

  <div class="px-6 py-4 border-t border-gray-800">
    <span class="block text-gray-400 text-sm mb-2">Hello, {{ user.username }}</span>
    <form method="post" action="{% url 'users:logout' %}">
      {% csrf_token %}
      <button type="submit" class="w-full block text-center px-3 py-2 bg-red-600 rounded-lg hover:bg-red-700">
          Logout
      </button>
    </form>
  </div>
</aside>

<!-- Main content -->
<main class="ml-64 min-h-screen p-8">
  {% block content %}{% endblock %}
</main>

{% block extra_scripts %}{% endblock %}

</body>
</html>
